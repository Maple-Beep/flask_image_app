{% extends "base.html" %}
{% block title %}ç®¡ç†å‘˜é¢æ¿{% endblock %}
{% block content %}
<style>
    .admin-header {
        text-align: center;
        margin-bottom: 3rem;
        padding: 2rem;
        background: linear-gradient(135deg, rgba(245, 87, 108, 0.1) 0%, rgba(240, 147, 251, 0.1) 100%);
        border-radius: 20px;
        border: 1px solid rgba(245, 87, 108, 0.2);
    }
    
    .admin-badge {
        display: inline-block;
        background: var(--secondary-gradient);
        color: white;
        padding: 8px 20px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 1rem;
        animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }
    
    .admin-header h1 {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
    }
    
    .admin-header p {
        font-size: 1.1rem;
        color: var(--text-muted);
        margin: 0;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 30px;
        margin: 3rem 0;
    }
    
    .stat-card {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        padding: 2.5rem;
        border-radius: 20px;
        border: 1px solid var(--glass-border);
        text-align: center;
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
        animation: fadeInUp 0.6s ease-out backwards;
    }
    
    .stat-card:nth-child(1) {
        animation-delay: 0.1s;
    }
    
    .stat-card:nth-child(2) {
        animation-delay: 0.2s;
    }
    
    .stat-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--primary-gradient);
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .stat-card:hover::before {
        opacity: 0.1;
    }
    
    .stat-card:hover {
        transform: translateY(-10px) scale(1.03);
        box-shadow: 0 25px 50px rgba(102, 126, 234, 0.3);
        border-color: rgba(102, 126, 234, 0.5);
    }
    
    .stat-icon {
        width: 80px;
        height: 80px;
        margin: 0 auto 1.5rem;
        background: var(--primary-gradient);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2.5rem;
        position: relative;
        z-index: 1;
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    }
    
    .stat-card h2 {
        font-size: 1.3rem;
        margin-bottom: 1rem;
        color: var(--text-color);
        position: relative;
        z-index: 1;
    }
    
    .stat-value {
        font-size: 3rem;
        font-weight: 900;
        background: var(--primary-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-family: 'Playfair Display', serif;
        position: relative;
        z-index: 1;
    }
    
    .stat-label {
        font-size: 0.9rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-top: 0.5rem;
        position: relative;
        z-index: 1;
    }
    
    .admin-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 25px;
        margin-top: 3rem;
    }
    
    .action-card {
        background: var(--glass-bg);
        backdrop-filter: blur(10px);
        padding: 2rem;
        border-radius: 16px;
        border: 1px solid var(--glass-border);
        text-align: center;
        transition: all 0.3s ease;
        animation: fadeInUp 0.6s ease-out backwards;
    }
    
    .action-card:nth-child(1) {
        animation-delay: 0.3s;
    }
    
    .action-card:nth-child(2) {
        animation-delay: 0.4s;
    }
    
    .action-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(102, 126, 234, 0.2);
    }
    
    .action-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
    }
    
    .action-card h3 {
        font-size: 1.3rem;
        margin-bottom: 1rem;
        color: var(--text-color);
    }
    
    .action-card p {
        font-size: 0.95rem;
        color: var(--text-muted);
        margin-bottom: 1.5rem;
    }
    
    .action-card .btn {
        width: 100%;
    }
    
    .quick-stats {
        margin-top: 3rem;
        padding: 2rem;
        background: linear-gradient(135deg, rgba(78, 205, 196, 0.05) 0%, rgba(102, 126, 234, 0.05) 100%);
        border-radius: 16px;
        border: 1px solid var(--glass-border);
    }
    
    .quick-stats h3 {
        margin-bottom: 1.5rem;
        text-align: center;
    }
    
    .quick-stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
    }
    
    .quick-stat-item {
        text-align: center;
        padding: 1rem;
    }
    
    .quick-stat-item .label {
        font-size: 0.85rem;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 0.5rem;
    }
    
    .quick-stat-item .value {
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--text-color);
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @media (max-width: 768px) {
        .stats-grid,
        .admin-actions {
            grid-template-columns: 1fr;
        }
        
        .stat-value {
            font-size: 2.5rem;
        }
    }
</style>

<div class="admin-header">
    <span class="admin-badge">ğŸ›¡ï¸ ç®¡ç†å‘˜</span>
    <h1>ç®¡ç†å‘˜æ§åˆ¶é¢æ¿</h1>
    <p>æ¬¢è¿å›æ¥ï¼Œ<strong>{{ current_user.username }}</strong>ï¼</p>
</div>

<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon">ğŸ‘¥</div>
        <h2>ç”¨æˆ·ç»Ÿè®¡</h2>
        <div class="stat-value">{{ users|length }}</div>
        <div class="stat-label">æ³¨å†Œç”¨æˆ·æ€»æ•°</div>
    </div>
    
    <div class="stat-card">
        <div class="stat-icon">ğŸ–¼ï¸</div>
        <h2>å›¾ç‰‡ç»Ÿè®¡</h2>
        <div class="stat-value">{{ images|length }}</div>
        <div class="stat-label">ä¸Šä¼ å›¾ç‰‡æ€»æ•°</div>
    </div>
</div>

<h2 style="text-align: center; margin: 3rem 0 2rem;">ç®¡ç†åŠŸèƒ½</h2>

<div class="admin-actions">
    <div class="action-card">
        <div class="action-icon">ğŸ‘¥</div>
        <h3>ç”¨æˆ·ç®¡ç†</h3>
        <p>æŸ¥çœ‹ã€ç¼–è¾‘æˆ–åˆ é™¤æ³¨å†Œç”¨æˆ·ä¿¡æ¯</p>
        <a href="{{ url_for('manage_users') }}" class="btn">ç®¡ç†ç”¨æˆ·</a>
    </div>
    
    <div class="action-card">
        <div class="action-icon">ğŸ–¼ï¸</div>
        <h3>å›¾ç‰‡ç®¡ç†</h3>
        <p>æµè§ˆå’Œç®¡ç†å¹³å°ä¸Šæ‰€æœ‰ä¸Šä¼ çš„å›¾ç‰‡</p>
        <a href="{{ url_for('manage_images') }}" class="btn">ç®¡ç†å›¾ç‰‡</a>
    </div>
</div>

<div class="quick-stats">
    <h3>å¿«é€Ÿæ¦‚è§ˆ</h3>
    <div class="quick-stats-grid">
        <div class="quick-stat-item">
            <div class="label">æ™®é€šç”¨æˆ·</div>
            <div class="value">{{ users|length - 1 }}</div>
        </div>
        <div class="quick-stat-item">
            <div class="label">ç®¡ç†å‘˜</div>
            <div class="value">1</div>
        </div>
        <div class="quick-stat-item">
            <div class="label">å¹³å‡å›¾ç‰‡æ•°</div>
            <div class="value">{{ ((images|length) / (users|length))|round(1) if users|length > 0 else 0 }}</div>
        </div>
    </div>
</div>
{% endblock %}
